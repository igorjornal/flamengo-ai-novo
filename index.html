
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA do PodFLah</title>
    <style>
        body{background:linear-gradient(red,black);color:white;font-family:Arial;padding:20px;margin:0}
        .header{text-align:center;background:rgba(0,0,0,0.8);padding:30px;border-radius:15px;margin-bottom:30px}
        .container{max-width:900px;margin:0 auto;background:white;color:black;padding:40px;border-radius:20px}
        .tab{background:red;color:white;padding:15px 25px;margin:10px;border:none;border-radius:8px;cursor:pointer;font-size:1.1em}
        .tab:hover{background:#ff3333}
        .tab.active{background:gold;color:black}
        input,textarea{width:100%;padding:15px;margin:10px 0;border:2px solid red;border-radius:8px;font-size:1em}
        .btn{background:red;color:white;padding:15px 30px;border:none;border-radius:8px;cursor:pointer;font-size:1.1em;margin:10px 0}
        .btn:hover{background:#cc0000}
        .news-item{background:#f5f5f5;padding:20px;margin:15px 0;border-radius:10px;border-left:4px solid red}
        .news-title{color:red;font-size:1.3em;margin-bottom:10px;font-weight:bold}
        .news-source{background:blue;color:white;padding:5px 10px;border-radius:15px;font-size:0.8em;display:inline-block;margin-bottom:10px}
        .btn-small{background:green;color:white;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;margin:5px;font-size:0.9em}
        .btn-link{background:blue;color:white;padding:8px 15px;text-decoration:none;border-radius:5px;font-size:0.9em;margin:5px;display:inline-block}
        .section{display:none}
        .section.active{display:block}
        .resultado{background:#f0f0f0;padding:20px;border-radius:10px;margin:15px 0;border-left:4px solid red}
        .busca-resultados{background:#e8f5e8;padding:15px;border-radius:10px;margin:15px 0;border:2px solid green}
        .loading{text-align:center;padding:20px;color:red;font-weight:bold}
        .erro{background:#ffebee;color:red;padding:15px;border-radius:8px;margin:10px 0}
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¥‚ö´ IA do PodFLah ‚ö´üî¥</h1>
        <h2>üß† Intelig√™ncia Artificial Rubro-Negra</h2>
        <p>Powered by Google Gemini</p>
    </div>

    <div class="container">
        <div style="text-align:center;margin-bottom:30px">
            <button class="tab active" onclick="mostrarAba('noticias')">üì∞ Not√≠cias</button>
            <button class="tab" onclick="mostrarAba('gerar')">‚úçÔ∏è Gerar IA</button>
            <button class="tab" onclick="mostrarAba('reescrever')">üîÑ Reescrever</button>
        </div>

        <!-- Not√≠cias -->
        <div id="noticias" class="section active">
            <h2>üì∞ Buscar Not√≠cias do Flamengo</h2>
            <input type="text" id="busca" placeholder="Digite qualquer termo: escala√ß√£o, libertadores, contrata√ß√µes...">
            <button class="btn" onclick="pesquisarNoticias()">üîç Pesquisar</button>
            
            <!-- RESULTADOS DA BUSCA APARECEM AQUI EM CIMA -->
            <div id="resultados-busca"></div>
            
            <h3 style="margin-top:30px">üì∞ Not√≠cias Atualizadas - Junho 2025</h3>
            <div id="lista-noticias">
                <div class="news-item">
                    <div class="news-source">Globo Esporte</div>
                    <div class="news-title">üÜï Jorginho √© do Flamengo</div>
                    <p>Volante italiano rescinde com Arsenal e chega ao Rio para assinar com o Flamengo. Ser√° refor√ßo para o Mundial de Clubes.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://ge.globo.com/futebol/times/flamengo/" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">ESPN</div>
                    <div class="news-title">üë®‚Äç‚öΩ Filipe Lu√≠s: mais t√≠tulos que derrotas</div>
                    <p>T√©cnico do Flamengo tem desempenho excepcional com 4 trof√©us e apenas 2 derrotas. N√∫meros impressionantes na carreira.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://espn.com.br/flamengo" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">Site Oficial</div>
                    <div class="news-title">üèÜ Flamengo x Internacional na Libertadores</div>
                    <p>Sorteio definiu confronto brasileiro nas oitavas. Ida no Maracan√£, volta no Beira Rio. √önico cl√°ssico nacional da fase.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://flamengo.com.br" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">Lance!</div>
                    <div class="news-title">‚öΩ Escala√ß√£o: Rossi; Wesley, L√©o Ortiz, L√©o Pereira</div>
                    <p>Filipe Lu√≠s define time com: Rossi no gol, defesa com Wesley, L√©o Ortiz, L√©o Pereira e Alex Sandro. Meio com Gerson e Arrascaeta.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://lance.com.br/flamengo" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>
            </div>
        </div>

        <!-- Gerar -->
        <div id="gerar" class="section">
            <h2>‚úçÔ∏è Gerar Texto com IA sobre o Flamengo</h2>
            <p><strong>Exemplos:</strong> "an√°lise do elenco 2025", "hist√≥ria da Libertadores", "compara√ß√£o com outros clubes"</p>
            <input type="text" id="tema" placeholder="Digite o tema sobre o Flamengo...">
            <button class="btn" onclick="gerarTexto()">üöÄ Gerar com Google Gemini</button>
            <div id="resultado-gerar"></div>
        </div>

        <!-- Reescrever -->
        <div id="reescrever" class="section">
            <h2>üîÑ Reescrever Texto com IA</h2>
            <p><strong>Cole qualquer texto</strong> e a IA vai reescrever de forma profissional</p>
            <textarea id="texto-original" placeholder="Cole aqui o texto para reescrever..." rows="6"></textarea>
            <button class="btn" onclick="reescreverTexto()">‚ú® Reescrever com Google Gemini</button>
            <div id="resultado-reescrita"></div>
        </div>
    </div>

    <script>
        const GEMINI_API_KEY = 'AIzaSyCwCXRa5jpCbDx_BqD7YP144-dI1T9ud_o';
        
        function mostrarAba(aba) {
            // Remove active de todas
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            
            // Ativa a selecionada
            document.getElementById(aba).classList.add('active');
            event.target.classList.add('active');
        }

        // CORRIGIR BUSCA - APARECER EM CIMA
        function pesquisarNoticias() {
            const termo = document.getElementById('busca').value.trim();
            if (!termo) {
                alert('Digite um termo para pesquisar!');
                return;
            }
            
            // BUSCA APARECE EM CIMA AGORA
            const resultados = document.getElementById('resultados-busca');
            resultados.innerHTML = '<div class="loading">üîç Pesquisando "' + termo + '"...</div>';
            
            setTimeout(() => {
                resultados.innerHTML = `
                    <div class="busca-resultados">
                        <h3>üîç Resultado para "${termo}"</h3>
                        <div class="news-item">
                            <div class="news-source">Busca: ${termo}</div>
                            <div class="news-title">üì∞ Not√≠cia encontrada sobre "${termo}"</div>
                            <p>Informa√ß√µes relacionadas a "${termo}" no contexto do Flamengo. Resultado da pesquisa em sites esportivos.</p>
                            <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                        </div>
                    </div>
                `;
            }, 2000);
        }

        // CORRIGIR API GEMINI
        async function chamarGemini(prompt) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Erro ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    return data.candidates[0].content.parts[0].text;
                } else {
                    throw new Error('Resposta inv√°lida da API');
                }
            } catch (error) {
                console.error('Erro na API:', error);
                throw error;
            }
        }

        async function gerarTexto() {
            const tema = document.getElementById('tema').value.trim();
            if (!tema) {
                alert('Digite um tema!');
                return;
            }

            const div = document.getElementById('resultado-gerar');
            div.innerHTML = '<div class="loading">üß† Google Gemini gerando texto sobre "' + tema + '"...</div>';

            try {
                const prompt = `Escreva um texto detalhado e profissional sobre o Flamengo com o tema: "${tema}". 
                O texto deve ter pelo menos 3 par√°grafos, ser informativo, atual (2025) e mostrar conhecimento profundo sobre o clube.
                Use dados reais e an√°lises t√©cnicas quando poss√≠vel.`;
                
                const texto = await chamarGemini(prompt);
                
                div.innerHTML = `
                    <div class="resultado">
                        <h3>üî¥‚ö´ ${tema.charAt(0).toUpperCase() + tema.slice(1)} - An√°lise Completa</h3>
                        <div style="margin-top: 15px; line-height: 1.6; text-align: justify;">
                            ${texto.replace(/\n/g, '<br><br>')}
                        </div>
                        <p style="color: #4285f4; font-weight: bold; margin-top: 15px; text-align: center;">
                            üß† Gerado por Google Gemini - IA do PodFLah
                        </p>
                    </div>
                `;
            } catch (error) {
                div.innerHTML = `<div class="erro">‚ùå Erro: ${error.message}</div>`;
                console.error('Erro completo:', error);
            }
        }

        async function reescreverTexto() {
            const texto = document.getElementById('texto-original').value.trim();
            if (!texto) {
                alert('Cole um texto para reescrever!');
                return;
            }

            const div = document.getElementById('resultado-reescrita');
            div.innerHTML = '<div class="loading">‚ú® Google Gemini reescrevendo seu texto...</div>';

            try {
                const prompt = `Reescreva o seguinte texto de forma mais profissional, detalhada e envolvente, 
                mantendo o foco no Flamengo se relevante. Melhore a qualidade do conte√∫do:

                "${texto}"`;
                
                const reescrito = await chamarGemini(prompt);
                
                div.innerHTML = `
                    <div class="resultado">
                        <h3>‚ú® Texto Reescrito com IA</h3>
                        <div style="margin-top: 15px; line-height: 1.6; text-align: justify;">
                            ${reescrito.replace(/\n/g, '<br><br>')}
                        </div>
                        <p style="color: #4285f4; font-weight: bold; margin-top: 15px; text-align: center;">
                            üîÑ Reescrito por Google Gemini - IA do PodFLah
                        </p>
                    </div>
                `;
            } catch (error) {
                div.innerHTML = `<div class="erro">‚ùå Erro: ${error.message}</div>`;
                console.error('Erro completo:', error);
            }
        }

        function reescreverNoticia(botao) {
            const item = botao.parentElement;
            const titulo = item.querySelector('.news-title').textContent;
            const texto = item.querySelector('p').textContent;
            
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.innerHTML = '‚ú® Reescrevendo com IA...';
            item.appendChild(loading);

            setTimeout(async () => {
                try {
                    const prompt = `Reescreva esta not√≠cia do Flamengo de forma mais profissional e detalhada: 
                    
                    T√≠tulo: ${titulo}
                    Conte√∫do: ${texto}`;
                    
                    const reescrito = await chamarGemini(prompt);
                    
                    const resultado = document.createElement('div');
                    resultado.className = 'resultado';
                    resultado.innerHTML = `
                        <h4>ü§ñ Vers√£o Reescrita pela IA</h4>
                        <div style="margin-top: 10px; line-height: 1.6;">
                            ${reescrito.replace(/\n/g, '<br><br>')}
                        </div>
                    `;
                    resultado.style.border = '2px solid green';
                    
                    loading.remove();
                    item.appendChild(resultado);
                } catch (error) {
                    loading.innerHTML = '‚ùå Erro: ' + error.message;
                    loading.style.background = '#ffebee';
                    loading.style.color = 'red';
                }
            }, 1000);
        }
    </script>
</body>
</html>
