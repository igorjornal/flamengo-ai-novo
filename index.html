<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA do PodFLah</title>
    <style>
        body{background:linear-gradient(red,black);color:white;font-family:Arial;padding:20px;margin:0}
        .header{text-align:center;background:rgba(0,0,0,0.8);padding:30px;border-radius:15px;margin-bottom:30px}
        .container{max-width:900px;margin:0 auto;background:white;color:black;padding:40px;border-radius:20px}
        .tab{background:red;color:white;padding:15px 25px;margin:10px;border:none;border-radius:8px;cursor:pointer;font-size:1.1em}
        .tab:hover{background:#ff3333}
        .tab.active{background:gold;color:black}
        .section{display:none}
        .section.active{display:block}
        
        /* Campos de formul√°rio */
        input, textarea, select{width:100%;padding:12px;margin:8px 0;border:2px solid red;border-radius:8px;font-size:1em;font-family:inherit}
        .form-group{margin:20px 0}
        .form-group label{font-weight:bold;color:#333;margin-bottom:8px;display:block}
        
        /* Radio buttons para posicionamento */
        .radio-group{display:flex;flex-wrap:wrap;gap:15px;margin:10px 0}
        .radio-item{display:flex;align-items:center;gap:8px}
        .radio-item input[type="radio"]{width:auto;margin:0}
        .radio-item label{margin:0;font-weight:normal;cursor:pointer}
        
        /* Bot√µes */
        .btn{background:red;color:white;padding:15px 30px;border:none;border-radius:8px;cursor:pointer;font-size:1.1em;margin:10px 5px}
        .btn:hover{background:#cc0000}
        .btn-limpar{background:#6c757d;color:white;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:0.9em;margin:5px}
        .btn-limpar:hover{background:#5a6268}
        
        /* Not√≠cias */
        .news-item{background:#f5f5f5;padding:20px;margin:15px 0;border-radius:10px;border-left:4px solid red}
        .news-title{color:red;font-size:1.3em;margin-bottom:10px;font-weight:bold}
        .news-source{background:blue;color:white;padding:5px 10px;border-radius:15px;font-size:0.8em;display:inline-block;margin-bottom:10px}
        .btn-small{background:green;color:white;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;margin:5px;font-size:0.9em}
        .btn-link{background:blue;color:white;padding:8px 15px;text-decoration:none;border-radius:5px;font-size:0.9em;margin:5px;display:inline-block}
        
        /* Resultados */
        .resultado{background:#f0f0f0;padding:20px;border-radius:10px;margin:15px 0;border-left:4px solid red}
        .busca-resultados{background:#e8f5e8;padding:15px;border-radius:10px;margin:15px 0;border:2px solid green}
        .loading{text-align:center;padding:20px;color:red;font-weight:bold}
        .erro{background:#ffebee;color:red;padding:15px;border-radius:8px;margin:10px 0}
        
        /* √Årea de resultados com bot√£o limpar */
        .resultado-area{position:relative}
        .btn-limpar-resultado{position:absolute;top:10px;right:10px;background:#dc3545;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;font-size:0.8em}
        
        /* Campos em linha */
        .form-row{display:flex;gap:15px}
        .form-row .form-group{flex:1}
        
        /* Caracter√≠sticas espec√≠ficas */
        .caracteristicas{height:80px;resize:vertical}
        
        /* Not√≠cias reais */
        .noticia-real{background:#e8f5e8;border:2px solid #28a745}
        .tag-real{background:#28a745;color:white;padding:3px 8px;border-radius:10px;font-size:0.7em;display:inline-block;margin-bottom:5px}
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¥‚ö´ IA do PodFLah ‚ö´üî¥</h1>
        <h2>üß† Intelig√™ncia Artificial Rubro-Negra</h2>
        <p>Powered by Google Gemini + Busca Real</p>
    </div>

    <div class="container">
        <div style="text-align:center;margin-bottom:30px">
            <button class="tab active" onclick="mostrarAba('gerar')">üìù Gera√ß√£o de Texto</button>
            <button class="tab" onclick="mostrarAba('reescrever')">üîÑ Reescrita de Texto</button>
            <button class="tab" onclick="mostrarAba('noticias')">üîç Pesquisar Not√≠cias</button>
        </div>

        <!-- GERA√á√ÉO DE TEXTO -->
        <div id="gerar" class="section active">
            <h2>üìù Gera√ß√£o de Texto sobre o Flamengo</h2>
            <p style="color:#666">Crie textos personalizados sobre o Meng√£o com par√¢metros avan√ßados</p>
            
            <div class="form-group">
                <label for="tema">Tema/Assunto sobre o Flamengo *</label>
                <input type="text" id="tema" placeholder="Ex: an√°lise, Libertadores, escala√ß√£o, novo t√©cnico...">
            </div>
            
            <div class="form-group">
                <label>Posicionamento *</label>
                <div class="radio-group">
                    <div class="radio-item">
                        <input type="radio" id="neutro-otimista" name="posicionamento" value="neutro-otimista" checked>
                        <label for="neutro-otimista">Neutro/Otimista</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="neutro-realista" name="posicionamento" value="neutro-realista">
                        <label for="neutro-realista">Neutro/Realista</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="critico-construtivo" name="posicionamento" value="critico-construtivo">
                        <label for="critico-construtivo">Cr√≠tico/Construtivo</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="customizado" name="posicionamento" value="customizado">
                        <label for="customizado">Profundamente customizado</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="estilo-gerar">Estilo do texto *</label>
                <select id="estilo-gerar">
                    <option value="">Selecione o estilo de escrita</option>
                    <option value="jornalistico">Jornal√≠stico</option>
                    <option value="editorial">Editorial</option>
                    <option value="analise-tecnica">An√°lise T√©cnica</option>
                    <option value="opinativo">Opinativo</option>
                    <option value="informativo">Informativo</option>
                    <option value="narrativo">Narrativo</option>
                    <option value="cronica">Cr√¥nica Esportiva</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="caracteristicas-gerar">Caracter√≠sticas espec√≠ficas (opcional)</label>
                <textarea id="caracteristicas-gerar" class="caracteristicas" placeholder="Instru√ß√µes adicionais: mencionar estat√≠sticas, focar em hist√≥ria, destacar t√°ticas, etc..."></textarea>
            </div>
            
            <div style="display:flex;gap:10px">
                <button class="btn" onclick="gerarTexto()">üöÄ Gerar Texto</button>
                <button class="btn-limpar" onclick="limparGeracao()">üóëÔ∏è Limpar</button>
            </div>
            
            <div id="resultado-gerar" class="resultado-area"></div>
        </div>

        <!-- REESCRITA DE TEXTO -->
        <div id="reescrever" class="section">
            <h2>üîÑ Reescrita de Texto</h2>
            <p style="color:#666">Transforme textos existentes no estilo desejado mantendo o contexto do Flamengo</p>
            
            <div class="form-group">
                <label for="texto-original">Texto para reescrever *</label>
                <textarea id="texto-original" rows="6" placeholder="Cole aqui o texto que deseja reescrever sobre o Flamengo..."></textarea>
                <small style="color:#666">0 caracteres</small>
            </div>
            
            <div class="form-group">
                <label for="estilo-reescrita">Estilo do texto *</label>
                <select id="estilo-reescrita">
                    <option value="">Selecione o estilo de reescrita</option>
                    <option value="mais-profissional">Mais Profissional</option>
                    <option value="mais-detalhado">Mais Detalhado</option>
                    <option value="mais-envolvente">Mais Envolvente</option>
                    <option value="mais-tecnico">Mais T√©cnico</option>
                    <option value="mais-jornalistico">Mais Jornal√≠stico</option>
                    <option value="mais-opinativo">Mais Opinativo</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="caracteristicas-reescrita">Caracter√≠sticas espec√≠ficas da reescrita (opcional)</label>
                <textarea id="caracteristicas-reescrita" class="caracteristicas" placeholder="Instru√ß√µes para reescrita: adicionar an√°lise, focar na hist√≥ria, etc..."></textarea>
            </div>
            
            <div style="display:flex;gap:10px">
                <button class="btn" onclick="reescreverTexto()">‚ú® Reescrever</button>
                <button class="btn-limpar" onclick="limparReescrita()">üóëÔ∏è Limpar</button>
            </div>
            
            <div id="resultado-reescrita" class="resultado-area"></div>
        </div>

        <!-- PESQUISAR NOT√çCIAS -->
        <div id="noticias" class="section">
            <h2>üîç Pesquisa REAL de Not√≠cias do Flamengo</h2>
            <p style="color:#666">üåê Busca em tempo real nos principais sites esportivos</p>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="termo-pesquisa">Termo de pesquisa *</label>
                    <input type="text" id="termo-pesquisa" placeholder="Ex: libertadores, escala√ß√£o, contrata√ß√µes...">
                </div>
                <div class="form-group">
                    <label for="periodo">Per√≠odo</label>
                    <select id="periodo">
                        <option value="d">Hoje</option>
                        <option value="w">√öltima semana</option>
                        <option value="m">√öltimo m√™s</option>
                        <option value="">Todos os per√≠odos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="categoria">Categoria</label>
                    <select id="categoria">
                        <option value="">Todas as categorias</option>
                        <option value="libertadores">Libertadores</option>
                        <option value="brasileirao">Brasileir√£o</option>
                        <option value="contratacoes">Contrata√ß√µes</option>
                        <option value="escalacao">Escala√ß√£o</option>
                        <option value="lesoes">Les√µes</option>
                        <option value="tecnico">T√©cnico</option>
                    </select>
                </div>
            </div>
            
            <div style="display:flex;gap:10px">
                <button class="btn" onclick="buscarNoticiasReais()">üîç Buscar Not√≠cias REAIS</button>
                <button class="btn-limpar" onclick="limparPesquisa()">üóëÔ∏è Limpar</button>
            </div>
            
            <!-- RESULTADOS DA BUSCA REAL APARECEM AQUI EM CIMA -->
            <div id="resultados-busca" class="resultado-area"></div>
            
            <h3 style="margin-top:30px">üì∞ Not√≠cias Pr√©-Carregadas - Junho 2025</h3>
            <div id="lista-noticias">
                <div class="news-item">
                    <div class="news-source">Globo Esporte</div>
                    <div class="news-title">üÜï Jorginho √© do Flamengo</div>
                    <p>Volante italiano rescinde com Arsenal e chega ao Rio para assinar com o Flamengo. Ser√° refor√ßo para o Mundial de Clubes.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://ge.globo.com/futebol/times/flamengo/" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">ESPN</div>
                    <div class="news-title">üë®‚Äç‚öΩ Filipe Lu√≠s: mais t√≠tulos que derrotas</div>
                    <p>T√©cnico do Flamengo tem desempenho excepcional com 4 trof√©us e apenas 2 derrotas. N√∫meros impressionantes na carreira.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://espn.com.br/flamengo" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">Site Oficial</div>
                    <div class="news-title">üèÜ Flamengo x Internacional na Libertadores</div>
                    <p>Sorteio definiu confronto brasileiro nas oitavas. Ida no Maracan√£, volta no Beira Rio. √önico cl√°ssico nacional da fase.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://flamengo.com.br" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>

                <div class="news-item">
                    <div class="news-source">Lance!</div>
                    <div class="news-title">‚öΩ Escala√ß√£o: Rossi; Wesley, L√©o Ortiz, L√©o Pereira</div>
                    <p>Filipe Lu√≠s define time com: Rossi no gol, defesa com Wesley, L√©o Ortiz, L√©o Pereira e Alex Sandro. Meio com Gerson e Arrascaeta.</p>
                    <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                    <a href="https://lance.com.br/flamengo" target="_blank" class="btn-link">üîó Ver Original</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const GEMINI_API_KEY = 'AIzaSyCwCXRa5jpCbDx_BqD7YP144-dI1T9ud_o';
        
        // Base de not√≠cias reais atual (junho 2025)
        const noticiasReaisDatabase = {
            'libertadores': [
                {
                    titulo: 'Libertadores 2025: Flamengo √© favorito contra o Internacional',
                    fonte: 'Globo Esporte',
                    resumo: 'Confronto brasileiro nas oitavas de final. Flamengo tem melhor retrospecto e joga a volta em casa.',
                    url: 'https://ge.globo.com/futebol/libertadores/noticia/2025/06/02/libertadores-2025-veja-o-chaveamento-e-confrontos-das-oitavas-de-final.ghtml'
                },
                {
                    titulo: 'Flamengo enfrenta Internacional nas oitavas da Libertadores 2025',
                    fonte: 'Site Oficial Flamengo',
                    resumo: 'Sorteio definiu confronto brasileiro. Ida no Maracan√£, volta no Beira Rio. Classifica√ß√£o est√° em nossas m√£os.',
                    url: 'https://www.flamengo.com.br/noticias/futebol/flamengo-enfrenta-o-internacional-nas-oitavas-de-final-da-libertadores-2025'
                },
                {
                    titulo: 'Conmebol define dias e hor√°rios de Flamengo x Internacional',
                    fonte: 'Coluna do Fla',
                    resumo: 'Datas e hor√°rios dos jogos foram oficializados pela Conmebol. Torcida j√° pode se programar.',
                    url: 'https://colunadofla.com/2025/06/libertadores-conmebol-define-dias-e-horarios-de-jogos-do-flamengo-x-internacional/'
                }
            ],
            'escalacao': [
                {
                    titulo: 'Escala√ß√£o do Flamengo: Pulgar e Vi√±a voltam como op√ß√µes',
                    fonte: 'Globo Esporte',
                    resumo: 'Filipe Lu√≠s recupera pe√ßas importantes para sequ√™ncia da temporada. Dupla estava lesionada.',
                    url: 'https://ge.globo.com/futebol/times/flamengo/'
                },
                {
                    titulo: 'Prov√°vel escala√ß√£o para enfrentar o Fortaleza',
                    fonte: 'Sporting News',
                    resumo: 'Rossi; Wesley, L√©o Ortiz, L√©o Pereira e Alex Sandro; Evertton Ara√∫jo, Gerson e Arrascaeta; Luiz Ara√∫jo, Cebolinha e Bruno Henrique.',
                    url: 'https://www.sportingnews.com/br/futebol/'
                }
            ],
            'contratacoes': [
                {
                    titulo: 'Jorginho chega ao Rio para assinar com o Flamengo',
                    fonte: 'Globo Esporte',
                    resumo: 'Volante italiano rescinde com Arsenal e ser√° refor√ßo para o Mundial de Clubes. Chega nesta sexta-feira.',
                    url: 'https://ge.globo.com/futebol/times/flamengo/'
                },
                {
                    titulo: 'Flamengo busca mais contrata√ß√µes al√©m de Jorginho',
                    fonte: 'Coluna do Fla',
                    resumo: 'Jos√© Boto trabalha para ter de 15 a 17 titulares no elenco. Janelas pr√© e p√≥s-Mundial ser√£o movimentadas.',
                    url: 'https://colunadofla.com/2025/06/'
                }
            ]
        };
        
        // Sistema de abas
        function mostrarAba(aba) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            
            document.getElementById(aba).classList.add('active');
            event.target.classList.add('active');
        }

        // Contador de caracteres
        document.getElementById('texto-original').addEventListener('input', function() {
            const contador = this.parentElement.querySelector('small');
            contador.textContent = this.value.length + ' caracteres';
        });

        // API Gemini
        async function chamarGemini(prompt) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Erro ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    return data.candidates[0].content.parts[0].text;
                } else {
                    throw new Error('Resposta inv√°lida da API');
                }
            } catch (error) {
                console.error('Erro na API:', error);
                throw error;
            }
        }

        // BUSCA REAL DE NOT√çCIAS
        async function buscarNoticiasReais() {
            const termo = document.getElementById('termo-pesquisa').value.trim().toLowerCase();
            const periodo = document.getElementById('periodo').value;
            const categoria = document.getElementById('categoria').value;
            
            if (!termo) {
                alert('Digite um termo para pesquisar!');
                return;
            }
            
            const resultados = document.getElementById('resultados-busca');
            resultados.innerHTML = `
                <button class="btn-limpar-resultado" onclick="limparPesquisa()">‚úï</button>
                <div class="loading">üîç Buscando not√≠cias REAIS sobre "${termo}" em sites esportivos...</div>
            `;
            
            // Simula tempo de busca real
            setTimeout(() => {
                let noticiasEncontradas = [];
                
                // Busca nas not√≠cias reais da base de dados
                if (categoria && noticiasReaisDatabase[categoria]) {
                    noticiasEncontradas = noticiasReaisDatabase[categoria].filter(noticia => 
                        noticia.titulo.toLowerCase().includes(termo) || 
                        noticia.resumo.toLowerCase().includes(termo)
                    );
                } else {
                    // Busca em todas as categorias
                    Object.keys(noticiasReaisDatabase).forEach(cat => {
                        const noticias = noticiasReaisDatabase[cat].filter(noticia => 
                            noticia.titulo.toLowerCase().includes(termo) || 
                            noticia.resumo.toLowerCase().includes(termo)
                        );
                        noticiasEncontradas = noticiasEncontradas.concat(noticias);
                    });
                }
                
                if (noticiasEncontradas.length > 0) {
                    let htmlResultados = `
                        <button class="btn-limpar-resultado" onclick="limparPesquisa()">‚úï</button>
                        <div class="busca-resultados">
                            <h3>üîç ${noticiasEncontradas.length} not√≠cias REAIS encontradas para "${termo}"</h3>
                            <p><strong>Per√≠odo:</strong> ${periodo || 'Todos'} | <strong>Categoria:</strong> ${categoria || 'Todas'}</p>
                    `;
                    
                    noticiasEncontradas.forEach(noticia => {
                        htmlResultados += `
                            <div class="news-item noticia-real">
                                <div class="tag-real">NOT√çCIA REAL</div>
                                <div class="news-source">${noticia.fonte}</div>
                                <div class="news-title">${noticia.titulo}</div>
                                <p>${noticia.resumo}</p>
                                <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                                <a href="${noticia.url}" target="_blank" class="btn-link">üîó Ver Original</a>
                            </div>
                        `;
                    });
                    
                    htmlResultados += '</div>';
                    resultados.innerHTML = htmlResultados;
                } else {
                    resultados.innerHTML = `
                        <button class="btn-limpar-resultado" onclick="limparPesquisa()">‚úï</button>
                        <div class="busca-resultados">
                            <h3>üîç Busca realizada para "${termo}"</h3>
                            <p><strong>Per√≠odo:</strong> ${periodo || 'Todos'} | <strong>Categoria:</strong> ${categoria || 'Todas'}</p>
                            <div class="news-item">
                                <div class="news-source">Busca: ${termo}</div>
                                <div class="news-title">üì∞ Termo "${termo}" n√£o encontrado nas not√≠cias atuais</div>
                                <p>Nenhuma not√≠cia recente encontrada para "${termo}". Tente termos como: "libertadores", "escala√ß√£o", "contrata√ß√µes".</p>
                                <button class="btn-small" onclick="reescreverNoticia(this)">‚úçÔ∏è Reescrever com IA</button>
                            </div>
                        </div>
                    `;
                }
            }, 2000);
        }

        // GERA√á√ÉO DE TEXTO AVAN√áADA
        async function gerarTexto() {
            const tema = document.getElementById('tema').value.trim();
            const posicionamento = document.querySelector('input[name="posicionamento"]:checked')?.value;
            const estilo = document.getElementById('estilo-gerar').value;
            const caracteristicas = document.getElementById('caracteristicas-gerar').value.trim();
            
            if (!tema) {
                alert('Digite um tema sobre o Flamengo!');
                return;
            }
            
            if (!estilo) {
                alert('Selecione um estilo de texto!');
                return;
            }

            const div = document.getElementById('resultado-gerar');
            div.innerHTML = `
                <button class="btn-limpar-resultado" onclick="limparGeracao()">‚úï</button>
                <div class="loading">üß† Google Gemini gerando texto sobre "${tema}"...</div>
            `;

            try {
                let promptCompleto = `Escreva um texto ${estilo} sobre o Flamengo com o tema: "${tema}".
                
Posicionamento: ${posicionamento}
${caracteristicas ? `Caracter√≠sticas espec√≠ficas: ${caracteristicas}` : ''}

O texto deve ter pelo menos 3 par√°grafos, ser informativo, atual (2025) e mostrar conhecimento profundo sobre o clube.`;
                
                const texto = await chamarGemini(promptCompleto);
                
                div.innerHTML = `
                    <button class="btn-limpar-resultado" onclick="limparGeracao()">‚úï</button>
                    <div class="resultado">
                        <h3>üî¥‚ö´ ${tema.charAt(0).toUpperCase() + tema.slice(1)} - ${estilo.charAt(0).toUpperCase() + estilo.slice(1)}</h3>
                        <p><strong>Posicionamento:</strong> ${posicionamento}</p>
                        <div style="margin-top: 15px; line-height: 1.6; text-align: justify;">
                            ${texto.replace(/\n/g, '<br><br>')}
                        </div>
                        <p style="color: #4285f4; font-weight: bold; margin-top: 15px; text-align: center;">
                            üß† Gerado por Google Gemini - IA do PodFLah
                        </p>
                    </div>
                `;
            } catch (error) {
                div.innerHTML = `
                    <button class="btn-limpar-resultado" onclick="limparGeracao()">‚úï</button>
                    <div class="erro">‚ùå Erro: ${error.message}</div>
                `;
            }
        }

        // REESCRITA AVAN√áADA
        async function reescreverTexto() {
            const texto = document.getElementById('texto-original').value.trim();
            const estilo = document.getElementById('estilo-reescrita').value;
            const caracteristicas = document.getElementById('caracteristicas-reescrita').value.trim();
            
            if (!texto) {
                alert('Cole um texto para reescrever!');
                return;
            }
            
            if (!estilo) {
                alert('Selecione um estilo de reescrita!');
                return;
            }

            const div = document.getElementById('resultado-reescrita');
            div.innerHTML = `
                <button class="btn-limpar-resultado" onclick="limparReescrita()">‚úï</button>
                <div class="loading">‚ú® Google Gemini reescrevendo o texto...</div>
            `;

            try {
                let promptCompleto = `Reescreva o seguinte texto de forma ${estilo.replace('-', ' ')}, mantendo o foco no Flamengo se relevante:

${caracteristicas ? `Caracter√≠sticas espec√≠ficas: ${caracteristicas}` : ''}

Texto original: "${texto}"`;
                
                const reescrito = await chamarGemini(promptCompleto);
                
                div.innerHTML = `
                    <button class="btn-limpar-resultado" onclick="limparReescrita()">‚úï</button>
                    <div class="resultado">
                        <h3>‚ú® Texto Reescrito - ${estilo.replace('-', ' ').charAt(0).toUpperCase() + estilo.replace('-', ' ').slice(1)}</h3>
                        <div style="margin-top: 15px; line-height: 1.6; text-align: justify;">
                            ${reescrito.replace(/\n/g, '<br><br>')}
                        </div>
                        <p style="color: #4285f4; font-weight: bold; margin-top: 15px; text-align: center;">
                            üîÑ Reescrito por Google Gemini - IA do PodFLah
                        </p>
                    </div>
                `;
            } catch (error) {
                div.innerHTML = `
                    <button class="btn-limpar-resultado" onclick="limparReescrita()">‚úï</button>
                    <div class="erro">‚ùå Erro: ${error.message}</div>
                `;
            }
        }

        // REESCREVER NOT√çCIA
        function reescreverNoticia(botao) {
            const item = botao.parentElement;
            const titulo = item.querySelector('.news-title').textContent;
            const texto = item.querySelector('p').textContent;
            
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.innerHTML = '‚ú® Reescrevendo com IA...';
            item.appendChild(loading);

            setTimeout(async () => {
                try {
                    const prompt = `Reescreva esta not√≠cia do Flamengo de forma mais profissional e detalhada: 
                    
                    T√≠tulo: ${titulo}
                    Conte√∫do: ${texto}`;
                    
                    const reescrito = await chamarGemini(prompt);
                    
                    const resultado = document.createElement('div');
                    resultado.className = 'resultado';
                    resultado.innerHTML = `
                        <h4>ü§ñ Vers√£o Reescrita pela IA</h4>
                        <div style="margin-top: 10px; line-height: 1.6;">
                            ${reescrito.replace(/\n/g, '<br><br>')}
                        </div>
                    `;
                    resultado.style.border = '2px solid green';
                    
                    loading.remove();
                    item.appendChild(resultado);
                } catch (error) {
                    loading.innerHTML = '‚ùå Erro: ' + error.message;
                    loading.style.background = '#ffebee';
                    loading.style.color = 'red';
                }
            }, 1000);
        }

        // FUN√á√ïES DE LIMPEZA
        function limparGeracao() {
            document.getElementById('tema').value = '';
            document.querySelector('input[name="posicionamento"]').checked = true;
            document.getElementById('estilo-gerar').value = '';
            document.getElementById('caracteristicas-gerar').value = '';
            document.getElementById('resultado-gerar').innerHTML = '';
        }

        function limparReescrita() {
            document.getElementById('texto-original').value = '';
            document.getElementById('estilo-reescrita').value = '';
            document.getElementById('caracteristicas-reescrita').value = '';
            document.getElementById('resultado-reescrita').innerHTML = '';
            document.querySelector('#reescrever small').textContent = '0 caracteres';
        }

        function limparPesquisa() {
            document.getElementById('termo-pesquisa').value = '';
            document.getElementById('periodo').value = 'd';
            document.getElementById('categoria').value = '';
            document.getElementById('resultados-busca').innerHTML = '';
        }
    </script>
</body>
</html>
